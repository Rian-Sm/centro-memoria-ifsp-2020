{% extends "base.html" %}
{% load static %}
{% block style %}
<link href="{% static 'css/contato.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<section>
    <div class="container">

        <div class="row">
            <div class="col esquerda">
                <div class="timeline">
                    <h2>FALE CONOSCO</h2>
                    <form action="#contato" class="pure-form pure-form-aligned" method="post">
                        {% csrf_token %}
                        <fieldset>
                            {% for field in form %}
                            <div class="pure-control-group">
                                {{ field.label_tag }}
                                {{ field }}
                                {% if field.errors %}
                                <ul class="errorlist">
                                    {% for error in field.errors %}
                                    <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                                {% endif %}
                            </div>
                            {% endfor %}
                            <div class="pure-controls">
                                <button type="submit" class="pure-button pure-button-primary">Envia Mensagem</button>
                            </div>
                        </fieldset>
                        </div>
                </div>
                </form>
                <fieldset>
                    <h2>MAIS INFORMAÇÕES </h2>

                    <div class="texto">
                        <p class="text-left">
                            Para pedir informações ou tirar suas dúvidas, preencha corretamente <br/>todos os campos do formulário e clique em enviar. Em breve nossa<br/>equipe lhe enviará uma resposta.
                        </p>
                </fieldset>
                </div>
            </div>
{% endblock %}

{% block scripts %}
<script>
    function getCidade() {
        let uf = document.getElementById('id_estado').value;
        $.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados/" + uf + "/municipios", function(data, status){
            $("#id_cidade").empty();
            $("#id_cidade").append(new Option('Selecione um Estado', ''));
            let cidades_list = []
            for (cidade of data){
                cidades_list.push(cidade.nome)
            }
            for (cidade of cidades_list.sort(
                function (a, b) {
                    return a.localeCompare(b);
                }
            )){
                $("#id_cidade").append(new Option(cidade, cidade));
            }
        });
    }
</script>
{% endblock %}